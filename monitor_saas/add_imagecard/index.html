<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Carlos Ferreira & Contributors" /><link rel="canonical" href="https://ibm.github.io/maximo-labs/add_imagecard/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>5.  Add Image Cards - Monitor SaaS Labs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "5.  Add Image Cards";
        var mkdocs_page_input_path = "add_imagecard.md";
        var mkdocs_page_url = "/maximo-labs/add_imagecard/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Monitor SaaS Labs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../..">Get back to Maximo Labs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Monitor SaaS Labs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Welcome to the Monitor Labs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getting_started/">Get Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../facilitator_instructions/">Pre-Requisites</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Exercises</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../connect_device/">1.  Connect Devices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../monitor_asset_devices/">2.  Monitor Assets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../monitor_anomalies/">3.  Monitor Anomalies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../service_request/">4.  Create Service Requests</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">5.  Add Image Cards</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#create-image-card-with-the-ui-widget">Create Image Card with the UI widget</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#create-image-card-with-json">Create Image Card with JSON</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#upload-image-to-monitor-datalake">Upload Image to Monitor Datalake</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#choose-image">Choose Image</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#obtain-api-key">Obtain API Key</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#push-image-to-data-lake-using-postman">Push Image to Data Lake using Postman</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#display-image-card-on-dashboard">Display Image Card on Dashboard</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#export-dashboard-json">Export Dashboard JSON</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#create-image-card-json-object">Create Image Card JSON Object</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#upload-your-image-card-json">Upload Your Image Card JSON</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../create_dimensions/">6.  Add Dimensions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../addvaluecard/">7.  Add Value Cards</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../copyright">Copyright</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Monitor SaaS Labs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Exercises</li>
      <li class="breadcrumb-item active">5.  Add Image Cards</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="create-image-card">Create Image Card</h1>
<p>In Maximo Asset Monitor, images can add a tremendous amount of value to data visualization when paired with graphs, tables, and value cards.  You can display an image on your dashboards.  You are also able to place icons which called hotspots on the image cards. These icons are tied to data from individual sensors or an aggregate of all of the sensors on a summary dashboard.</p>
<h2 id="create-image-card-with-the-ui-widget">Create Image Card with the UI widget</h2>
<ol>
<li>Save this image by right clicking then choose Save Image As...
  <img alt="Site map" src="../img/site_map.png" /></li>
<li>Click on the <code>gear icon</code> and choose Manage instance dashboard</li>
<li>Click on Image</li>
<li>Click on the Image card and upload the image <code>site_map.png</code> from step 1.</li>
<li>Title: Site Map</li>
<li>Time range: <code>Last 24 hours</code></li>
<li>Click on Edit image</li>
<li>Click on the map to create a hotspot
    Note:  if your data has x, y location coordinates you can specify them here</li>
<li>Title: Robot</li>
<li>Icon: <code>User</code></li>
<li>Color: Blue</li>
<li>Click on <code>Datasource</code> and choose the following: Entity_Id, Travel time, Work performed</li>
<li>Click Save</li>
<li>Click Add Card</li>
<li>Save and Close</li>
</ol>
<p><img alt="Image widget" src="../img/i205.png" />
<img alt="Image upload" src="../img/i206.png" />
<img alt="Image card" src="../img/i207.png" /></p>
<h2 id="create-image-card-with-json">Create Image Card with JSON</h2>
<p>Using a REST API call, you are able to push an image of your choosing into the Monitor data lake and display this image on your dashboards.
 Inside of the JSON configuration for the image card, you are able to set alert conditions that change the icon on the hotspot.
<img alt="Munich Occupancy Image Card" src="../img/im1.png" /> &nbsp;</p>
<p><strong>Here is what you see when you click on one of the hotspots.</strong></p>
<p><img alt="Munich Occupancy Hotspot" src="../img/im2.png" /> &nbsp;</p>
<p>The image card above displays an occupancy use case. Individual occupancy sensors have been tied to each hot spot to indicate whether seats in a meeting room in the Munich IoT center are occupied. The image above shows a much more complicated image card with hotspots than you will be creating in this Exercise, but this example is something that you could use eventually in the real world.</p>
<p>In this Exercise, you will learn how to select a photo for your image card, push your image into the Monitor data lake using a REST API call, and finally display your image card on a dashboard in Monitor. You will need Postman for this section. Please download the application at this link if you have not already: https://www.getpostman.com/</p>
<h3 id="upload-image-to-monitor-datalake">Upload Image to Monitor Datalake</h3>
<h4 id="choose-image">Choose Image</h4>
<ol>
<li>Choose an image that allows you to use hotspots to tell a meaningful story. For example, choosing a floor plan of a factory floor where you can tie hotspots to assets on the floor would tell an important and meaningful story.</li>
<li>Choose an image that is <strong>smaller than 1MB</strong>. Your API call will not be successful if you try to push a larger file.</li>
<li>These are the types of files that you can push into the Monitor data lake.
<img alt="Acceptable File Types" src="../img/im3.png" /> &nbsp;</li>
</ol>
<h4 id="obtain-api-key">Obtain API Key</h4>
<ol>
<li>Open up your Maximo Asset Monitor tenant.</li>
<li>Open up the hamburger menu on the left side and select <code>Services</code>.
<img alt="Services Navigation" src="../img/im4.png" /> &nbsp;</li>
<li>Next to <code>Watson IoT Platform Service</code>, click <code>View Details</code> and then click  <code>View More</code>.
<img alt="Watson IoT Platform Service" src="../img/im5.png" /> &nbsp;</li>
<li>Copy and paste the <code>API Key</code>and <code>API Token</code> into a Notes application of your choosing. It is good to save this information in a place that is easy to access. You will most likely use this API Key and Token again.
<img alt="Grab API Key and Token" src="../img/im6.png" /> &nbsp;</li>
</ol>
<h4 id="push-image-to-data-lake-using-postman">Push Image to Data Lake using Postman</h4>
<ol>
<li>Open up your <code>Postman</code> application.</li>
<li>In the top left corner you will see a button that says <code>+New</code>. Click on the <code>Request</code> button. Name your Request and create a Collection to place the Request.  Click the dropdown menu inside the red box in Postman to classify this API Call as a <code>POST</code> Request.
<img alt="Create POST Request" src="../img/im8.png" /> &nbsp;</li>
<li>Copy and paste this link into the field where it says “Enter request URL”: <code>https://api-{{geo_country_code}}.connectedproducts.internetofthings.ibmcloud.com/api/images/v1/{{tenantID}}/entityType/{{entityTypeName}}</code> You will need to replace the text in double curly braces <code>{{}}</code> with data associated with your Monitor workspace. First, you will need to replace <code>{{geo_country_code}}</code> with your specific country code. You can find your country code in your Monitor URL. The beginning of your URL will be <code>https://dashboard-{{geo_country_code}}</code>, either <code>us</code>,<code>uk</code>,<code>de</code>, or <code>beta</code>. Next, you will need to replace <code>{{tenantID}}</code> with your Maximo Asset Monitor Tenant ID. You can find your tenant ID in the top right corner of your Monitor webpage underneath your IBMiD. Last, you will need to enter the name of your Entity Type in place of <code>{{entityTypeName}}</code>.</li>
</ol>
<p><img alt="URL Geo Code" src="../img/im9.png" /> &nbsp;
<img alt="URL TenantID" src="../img/im10.png" /> &nbsp;</p>
<ol>
<li>Now that you have modified the request URL, we will add the header. Please have handy the API Key and Token you obtained earlier. Add this information into the <code>Header</code> tab, :</li>
</ol>
<p><img alt="Header Info" src="../img/im11.png" /> &nbsp;
<img alt="Header in Postman" src="../img/im12.png" /> &nbsp;</p>
<ol>
<li>Now, navigate to the <code>Body</code> tab and the select <code>form-data</code> radio button.</li>
</ol>
<p><img alt="Body and Form Data Postman" src="../img/im13.png" /> &nbsp;</p>
<ol>
<li>Enter the form data specified below. Make sure to select <code>File</code> from the drop down button next to your <code>imagefilecontent</code>. This option will allow you to select the image file you chose in the first section of this Exercise.</li>
</ol>
<p><img alt="KC Form Data Requirements" src="../img/im14.png" /> &nbsp;
<img alt="File Drop Down" src="../img/im15.png" /> &nbsp;
<img alt="Complete Form Data" src="../img/im16.png" /> &nbsp;</p>
<ol>
<li>Click the blue <code>Send</code> button to send your request. You should receive a <code>200 OK</code> message. If you do not, make sure that everything in this section has been entered correctly. If this work is to no avail, contact your administrator.</li>
</ol>
<p><img alt="Success" src="../img/im17.png" /> &nbsp;</p>
<h3 id="display-image-card-on-dashboard">Display Image Card on Dashboard</h3>
<p>Now that you have pushed the image of your choice into the Monitor data lake, you will now need to create a JSON object for the image card you wish to display. In this JSON code, you will tell Monitor what data to show, where to show that data, and how you want the data to be shown. The JSON code that will be shown in the later steps corresponds with the summary dashboard shown below:</p>
<p><img alt="Sourdough Leavening Dashboard" src="../img/im28.png" /> &nbsp;</p>
<h4 id="export-dashboard-json">Export Dashboard JSON</h4>
<ol>
<li>Open up the landing page for your entity type and select the dashboard you will be uploading your image card to.</li>
<li>Click on the gear in the top right of your chosen dashboard.
<img alt="Gear Edit" src="../img/im21.png" /> &nbsp;</li>
<li>Click <code>Edit Dashboard</code>.
<img alt="Edit Dashboard" src="../img/im22.png" /> &nbsp;</li>
<li>Click <code>Export</code> and save your JSON into a folder that you can keep handy. Make sure to save the file with the file extension <code>.json</code>. Open the file in a text editor of your choice. Here are some good open source options: <a href="https://atom.io/">Atom</a>, <a href="http://brackets.io/">Brackets</a>, and <a href="https://www.sublimetext.com/">Sublime</a>.</li>
</ol>
<h4 id="create-image-card-json-object">Create Image Card JSON Object</h4>
<ol>
<li>Please copy and paste the JSON code block below into the top of your <code>cards</code> array.
<img alt="Card Array" src="../img/im19.png" /> &nbsp;</li>
</ol>
<pre><code class="language-yaml">{
            &quot;id&quot;: &quot;starter-image-card&quot;,
            &quot;size&quot;: &quot;LARGE&quot;,
            &quot;title&quot;: &quot;Sourdough Starter Environment&quot;,
            &quot;type&quot;: &quot;IMAGE&quot;,
            &quot;content&quot;: {
                &quot;alt&quot;: &quot;Sourdough Starter Environment&quot;,
                &quot;zoomMax&quot;: 1,
                &quot;image&quot;: &quot;starter&quot;,
                &quot;hotspots&quot;: [
                    {
                        &quot;icon&quot;: &quot;icon--info--solid&quot;,
                        &quot;color&quot;: &quot;'#0F0&quot;,
                        &quot;content&quot;: {
                            &quot;title&quot;: &quot;Ambient Temperature&quot;,
                            &quot;description&quot;: &quot;Curent Reading&quot;,
                            &quot;attributes&quot;: [
                                {
                                    &quot;dataSourceId&quot;: &quot;ambient_temp&quot;,
                                    &quot;label&quot;: &quot;Temperature&quot;,
                                    &quot;unit&quot;: &quot;C&quot;
                                }
                            ]
                        },
                        &quot;locations&quot;: [
                            {
                                &quot;x&quot;: &quot;66&quot;,
                                &quot;y&quot;: &quot;50&quot;
                            }
                        ],
                        &quot;thresholds&quot;: [
                            {
                                &quot;dataSourceId&quot;: &quot;ambient_temp&quot;,
                                &quot;comparison&quot;: &quot;&gt;=&quot;,
                                &quot;value&quot;: 27,
                                &quot;color&quot;: &quot;red&quot;,
                                &quot;icon&quot;: &quot;icon--warning--solid&quot;
                            }
                        ]
                    }
                ]
            },
            &quot;dataSource&quot;: {
                &quot;attributes&quot;: [
                    {
                        &quot;aggregator&quot;: &quot;last&quot;,
                        &quot;attribute&quot;: &quot;ambient_temp&quot;,
                        &quot;id&quot;: &quot;ambient_temp&quot;
                    }
                ],
                &quot;range&quot;: {
                    &quot;type&quot;: &quot;rolling&quot;,
                    &quot;count&quot;: -24,
                    &quot;interval&quot;: &quot;hour&quot;
                }
            }
        },
</code></pre>
<ol>
<li>
<p>The information below gives you the tools you need to map the data items in your Entity Type to the card you will display with your JSON code.
<img alt="JSON Mapping 1" src="../img/im25.png" /> &nbsp;
<img alt="JSON Mapping 2" src="../img/im26.png" /> &nbsp;</p>
</li>
<li>
<p>The <code>id</code> at the very top needs to be a unique name for this card. Use dashes instead of spaces.</p>
</li>
<li>The <code>size</code> is self explanatory. Image cards render best as <code>LARGE</code>.</li>
<li>The <code>type</code> is the type of card such as <code>VALUE</code>, <code>TIMESERIES</code>, or <code>IMAGE</code>.</li>
<li><code>unit</code> refers to the unit of measurement belonging to your data item.</li>
<li><code>alt</code> refers to the title that will be presented if the picture does not load for some reason.</li>
<li>
<p><code>image</code> refers to the image that you pushed into the data lake. This value must be identical to the <code>id</code> value from your Postman image call.</p>
</li>
<li>
<p>Using the framework above, map the data items that are in your Entity type to display your image card on a summary dashboard. Replace the data items in the above JSON with the applicable data items, titles, and other information from the Entity Type you are working with to tell the story you are trying to tell. If you are confused, please reference the Knowledge center page for adding image cards <a href="https://www.ibm.com/support/knowledgecenter/SSQR84_monitor/iot/dashboard/image_json_ref.html">here</a>.</p>
</li>
<li>Finally, save your file with your finished image card. <strong>Be sure to employ version control and save your file with a new name every time you make serious changes in case you make an error. You want to make sure you always have a working file.</strong></li>
</ol>
<h4 id="upload-your-image-card-json">Upload Your Image Card JSON</h4>
<ol>
<li>Open up the landing page for your entity type and select the dashboard you will be uploading your image card to.</li>
<li>Click on the gear in the top right of your chosen dashboard.
<img alt="Gear Edit" src="../img/im21.png" /> &nbsp;</li>
<li>Click <code>Edit Dashboard</code>.
<img alt="Edit Dashboard" src="../img/im22.png" /> &nbsp;</li>
<li>Click <code>Import</code> and select the file that you have just been working on. If you are successful, a large grey square will appear among your line graphs to drag and drop until you are satisfied with the layout. If you are unsuccessful, you will receive an error. The error message will notify you of something to change. Another option is to use a JSON parser on the internet that will notify you if your JSON has discrepancies. If at first you do not succeed, try, try again!</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../service_request/" class="btn btn-neutral float-left" title="4.  Create Service Requests"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../create_dimensions/" class="btn btn-neutral float-right" title="6.  Add Dimensions">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../service_request/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../create_dimensions/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
