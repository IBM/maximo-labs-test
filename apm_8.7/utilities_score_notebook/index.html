<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Carlos Ferreira & Contributors" /><link rel="canonical" href="https://ibm.github.io/maximo-labs/utilities_score_notebook/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Create Health Scores Using Utilities Notebooks - Maximo APM V8.7 Hands On Lab</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Create Health Scores Using Utilities Notebooks";
        var mkdocs_page_input_path = "utilities_score_notebook.md";
        var mkdocs_page_url = "/maximo-labs/utilities_score_notebook/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Maximo APM V8.7 Hands On Lab
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../..">Get back to Maximo Labs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Maximo APM V8.7.0 Lab</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Welcome to the Lab</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../get_started/">Get Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../prereqs/">Pre-Requisites</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Exercises</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../setup_watson_studio/">Setup Watson Studio for Predict</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../hpu_models/">Understand Health and Predict - Utilities Models</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data_preparation/">Data Preparation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../asset_data_loader/">Load Utilities Data Into Manage</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Create Health Scores Using Utilities Notebooks</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#pre-requisites">Pre-requisites</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#upload-files-and-run-the-data-loader-notebook">Upload files and run the Data Loader Notebook</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#confirm-proper-data-upload">Confirm Proper Data Upload</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utilities_devicedata/">Create Utilities Predict Group and Upload Sensor Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utilities_anomaly_detection/">Train and Register Anomaly Detection Model for Utilities Assets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utilities_EOL/">Train and Register End of Life Curve for Utilities Assets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utilities_Failure_date/">Train and Register Predicted Failure Date for Utilities Assets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utilities_Failure_Probability/">Train and Register Failure Probability for Utilities Assets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data_dictionary/">Pump Data Dictionary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fast_start_loader/">Load Pump Data Into Monitor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../health_score/">Asset Health Scoring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../asset_investment/">Asset Investment Optimization</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../appconnect_install/">Install and Configure App Connect</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../copyright">Copyright</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Maximo APM V8.7 Hands On Lab</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Exercises</li>
      <li class="breadcrumb-item active">Create Health Scores Using Utilities Notebooks</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="load-utilities-health-scores-via-notebook">Load Utilities Health Scores via Notebook</h1>
<p>Maximo Predict comes with notebook templates to assist in streamlining data uploads of the industry standard health score for utilities assets into Maximo Health. This notebook will Create a health scoring group and the associated health, risk, criticality, effective age, end of life, duval triangle and the history of combustible gases scores. These instructions will be based off using the '1_Create-HPU-ScoreGroups.ipynb' file with the Substation Transformer Health and Predict for Utilities Demo Assets.</p>
<p>In this exercise you will use Watson Studio, Manage and Predict to:</p>
<ol>
<li><a href="#run_notebook">Upload the and Run the HPU Health Score Group notebook</a> using a template to upload new Asset and Location Data to Maximo Manage. </li>
<li><a href="#confirm_upload">Confirm</a> Scoring groups have been created and scores have been calculated</li>
<li><a href="#error_handling">Handle Errors</a> that may come up in the process</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must complete the previous exercise for <a href="../setup_watson_studio/">Setup Watson Studio</a> before you start this exercise.</p>
</div>
<p>This notebook can only be run once per environment per site with the same set of assets. </p>
<h2 id="pre-requisites">Pre-requisites</h2>
<ul>
<li>Review Predict documentation for the <a href="https://www.ibm.com/docs/en/mhmpmh-and-p-u/8.5.0?topic=overviews-maximo-predict-850">list of available models</a>.</li>
<li>Ensure your MAS Predict environment is running and you have access.  Try your server URL that might look something like: <a href="https://main.predict.ivt11rel87.ivt.suite.myhost.com/ibm/pmi/service/rest/system/info">https://main.predict.ivt11rel87.ivt.suite.myhost.com/ibm/pmi/service/rest/system/info</a></li>
<li>Ensure you have Access to Asset data files for the Health and Predict Utilities Demo Data</li>
<li>Complete the <a href="../asset_data_loader/">Load Data into Manage</a> lab for the Utilities data.</li>
<li>Have the following information from the previous lab: <code>MX_BASE_URL</code>, <code>API_KEY</code>, <code>SITE_ID</code> and <code>ORG_ID</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is best to perform this lab in your own Watson Studio Project created using <a href="../setup_watson_studio/">Setup Watson Studio</a> instructions. If you are using a shared project, ensure you append each file uploaded with your initials and update the file paths in the notebooks to include that change.</p>
</div>
<h2 id="upload-files-and-run-the-data-loader-notebook">Upload files and run the Data Loader Notebook</h2>
<p><a name="run_notebook></a></p>
<ol>
<li>
<p>Upload the Creat HPU Health Score Groups' notebook from the github in the <a href="../asset_data_loader/">Load Data into Manage</a> lab to your project. Use the steps from the previous exercise <a href="../setup_watson_studio/">Add Notebook From File to a Watson Studio Project</a>.</p>
</li>
<li>
<p>Select the <code>1_Create-HPU-ScoreGroups.ipynb</code> notebook template. </p>
</li>
<li>
<p>Click on the <code>pencil</code> icon next to your notebook to open it in edit mode.</p>
</li>
<li>
<p>If the notebook fails to start, restart it.  Click on the <code>i</code> icon , <code>Environment</code> tab,  <code>Running status</code> dropdown select box and choose <code>Restart</code></p>
</li>
</ol>
<p><img alt="Restarting Environment" src="../img/HPU_dataloader_3.png" /></p>
<ol>
<li>
<p>Run the first cell to import packages</p>
</li>
<li>
<p>Add the <code>MX_BASE_URL</code> and <code>API_KEY</code> from the previous lab to cell 2.  </p>
</li>
<li>
<p>Make sure to added api key value to <code>ENDPOINT EXTENGINEAPI</code>. </p>
</li>
<li>
<p>Update the site id value to your <code>SITE_ID</code> and the prefix value to your org id <code>ORG_ID</code> in the second cell .</p>
</li>
<li>
<p>Uncomment the asset class you will be uploading. In this lab we will be focusing on only Substation Transformer, so 
the first <code>ASSET_CLASS</code> list containing only one item is uncommented. If we were uploading all demo asset classes 
available in the github, uncomment the second section. If you have additional assets, use the third list and uncomment 
as needed.  Here are two ways to comment out a cell: add a <code>#</code> to the beginning of each line or add <code>'''</code> to the 
beginning and end of a section of code for it to be ignored when run</p>
</li>
</ol>
<p><img alt="Updated Cell" src="../img/HPU_ScoreGroup_1.png" /></p>
<ol>
<li>
<p>Run the next cell to define the API call for Maximo</p>
</li>
<li>
<p>Run the next 3 cells to define function for creating the following:</p>
<ul>
<li>
<p>The query that will be used to build the health scores</p>
</li>
<li>
<p>Get the scores list and activate the scores</p>
</li>
<li>
<p>Create the asset group, create scores for the asset group and clean up</p>
</li>
</ul>
</li>
<li>
<p>Run the next cell to delete any existing asset score groups for your data. If none exists, the cell will output <code>None</code>. </p>
</li>
</ol>
<p><img alt="Output" src="../img/HPU_ScoreGroup_2.png" /></p>
<ol>
<li>
<p>Run the next cell to create the query for the Asset Scoring Group. This query will be made up of Asset Type and Site ID</p>
</li>
<li>
<p>Run the next cell to create the Asset Scoring Group using the query from the previous cell, Build the scores from the Industry Standard Provided notebooks, and activate the scores.</p>
</li>
</ol>
<h2 id="confirm-proper-data-upload">Confirm Proper Data Upload</h2>
<p><a name="confirm_upload"></a>
The following steps will confirm that the data was uploaded properly</p>
<ol>
<li>
<p>Navigate to <code>Maximo Health and Predict for Utilities</code> for the provided environment</p>
</li>
<li>
<p>Go to the <code>Scoring and DGA Settings</code> application within Maximo H&amp;PU</p>
</li>
<li>
<p>Search for your Org or Site and notice that there are two score groups created - One for Assets and One for Locations. Notice the calculation type is <code>Connect group to notebook</code> since the scores are built via notebooks for the specific Asset Classification</p>
</li>
</ol>
<p><img alt="Score Groups" src="../img/HPU_ScoreGroup_3.png" />
4. Click into the Score Groups and notice all the score types created via the Asset Type specific notebook listed in the <code>Group Details</code> section</p>
<p><img alt="Group Configuration" src="../img/HPU_ScoreGroup_4.png" />
5. Click <code>Recalculate Scores</code> and allow the scores to calculate</p>
<p><img alt="Recalculate Scores" src="../img/HPU_ScoreGroup_5.png" />
6. Click into any asset and see that the scores have calculated
<img alt="Scores" src="../img/HPU_ScoreGroup_6.png" /></p>
<p>Congratulations you have seen how to upload Health and Predict for utilities data via a notebook. You have also gained experience using Jupyter Notebooks in Watson Studio!</p>
<p>In the next exercises you will learn how to use the <code>1_Create-HPU-ScoreGroups.ipynb</code> Notebook template to create health scores for Health and Predict for Utilities assets and associate the asset notebook to that created group.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../asset_data_loader/" class="btn btn-neutral float-left" title="Load Utilities Data Into Manage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../utilities_devicedata/" class="btn btn-neutral float-right" title="Create Utilities Predict Group and Upload Sensor Data">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../asset_data_loader/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../utilities_devicedata/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
